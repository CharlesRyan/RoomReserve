{"version":3,"sources":["webpack:///./src/app/rooms/rooms.module.ts","webpack:///./src/app/pipes/main-pipe.module.ts","webpack:///./src/app/pipes/time.pipe.ts","webpack:///./src/app/rooms/room-form/room-form.component.ts","webpack:///./src/app/rooms/room-list/room-list.component.ts","webpack:///./src/app/rooms/rooms.component.ts","webpack:///./src/app/rooms/rooms.routing.module.ts","webpack:///./src/app/rooms/room-list/room-list.component.css","webpack:///./src/app/rooms/room-form/room-form.html","webpack:///./src/app/rooms/room-list/room-list.html","webpack:///./src/app/rooms/rooms.html"],"names":[],"mappings":"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","file":"0.chunk.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule } from \"@angular/forms\";\r\n\r\nimport { RoomsRoutingModule, routedComponents } from \"./rooms.routing.module\";\r\nimport { MainPipe } from \"../pipes/main-pipe.module\";\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tFormsModule,\r\n\t\tRoomsRoutingModule,\r\n\t\tMainPipe\r\n\t],\r\n\tdeclarations: routedComponents\r\n})\r\nexport default class RoomsModule { \r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/rooms/rooms.module.ts","import { NgModule } from '@angular/core';\r\nimport {CommonModule} from \"@angular/common\";\r\n\r\nimport {TimePipe} from \"./time.pipe\";\r\n\r\n@NgModule({\r\n  declarations:[TimePipe],\r\n  imports:[CommonModule],\r\n  exports:[TimePipe]\r\n})\r\nexport class MainPipe{}\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/main-pipe.module.ts","import { Pipe } from \"@angular/core\";\r\n\r\n@Pipe({\r\n    name: 'readableTime'\r\n})\r\nexport class TimePipe {\r\n    transform(time) {\r\n\r\n        var hours = time.slice(0, 2);\r\n        var minutes = time.slice(2);\r\n        hours = parseInt(hours);\r\n\r\n        //it is pm if hours from 12 onwards\r\n\t\tconst suffix = (hours >= 12)? 'PM' : 'AM';\r\n\r\n\t\t//only -12 from hours if it is greater than 12 (if not back at mid night)\r\n\t\thours = (hours > 12)? hours -12 : hours;\r\n\r\n\t\t//if 00 then it is 12 am\r\n\t\thours = (hours == '00')? 12 : hours;\r\n\r\n\t\treturn hours + minutes + ' ' + suffix\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/pipes/time.pipe.ts","import { Component, OnChanges, OnInit, Input, SimpleChange, ViewChild } from \"@angular/core\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\n\r\nimport { IDirtyCanDeactivate } from \"./../../services/dirty-form-guard.service\";\r\nimport { RoomsService } from \"./../../services/rooms-service\";\r\n\r\nimport { NgForm } from \"@angular/forms\";\r\n\r\n\r\n@Component({\r\n\tselector: \"gw-room-form\",\r\n\ttemplateUrl: \"./room-form.html\",\r\n\t//styleUrls: [\"./room-form.component.css\"]\r\n})\r\nexport class RoomFormComponent implements OnChanges, OnInit, IDirtyCanDeactivate {\r\n\t\r\n\t@ViewChild(\"myForm\")\r\n\tpublic myForm: NgForm;\r\n\tpublic room;\r\n\tpublic form = {};\r\n\r\n\tpublic reasons = [\r\n\t\t\t\"Hiring\",\r\n\t\t\t\"Firing\",\r\n\t\t\t\"Scrum Meeting\",\r\n\t\t\t\"Scrum Beating\"\r\n\t\t];\r\n\r\n\t@Input() public id;\r\n\r\n\tconstructor(\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate roomsService: RoomsService,\r\n\t\tprivate router: Router\r\n\t) { }\r\n\r\n\tngOnInit() {\r\n\t\tthis.route.parent.params\r\n\t\t\t.map(params => params[\"id\"])\r\n\t\t\t.subscribe(id => {\r\n\t\t\t\tthis.id = id;\r\n\t\t\t\tthis.roomsService.getRoomById(id)\r\n\t\t\t\t\t.subscribe({\r\n\t\t\t\t\t\tnext: room => this.room = room,\r\n\t\t\t\t\t\terror: error => console.log(error)\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\r\n\t }\r\n\r\n\t ngAfterViewInit() {\r\n\t\t// console.log(this.form);\r\n\t\t//debounce\r\n\t}\r\n\tgetErrors() {\r\n\t\tconst errorList = [];\r\n\r\n\t\tconst controls = this.myForm.controls;\r\n\r\n\t\tfor(let controlKey in controls) {\r\n\t\t\tlet currentControlErrors = controls[controlKey].errors;\r\n\r\n\t\t\tfor(let errorKey in currentControlErrors) {\r\n\t\t\t\terrorList.push(`${controlKey} error: ${errorKey}`);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn errorList;\r\n\t}\r\n\t\r\n\tngOnChanges() {\r\n\t\t\r\n\t}\r\n\r\n\tcanDeactivate() {\r\n\t\treturn this.myForm.dirty ? confirm(\"You appear to have unsaved work.  Continue?\") : true;\r\n\t}\r\n\r\n\tonRoomSubmission(form:NgForm){\r\n\t\tthis.roomsService.writeRoomReservation(this.id, form.value);\r\n\t\tform.reset();\r\n\t\tthis.router.navigateByUrl(`/rooms/${this.id}/list`);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/rooms/room-form/room-form.component.ts","import { Component, OnChanges, OnInit, Input, SimpleChange} from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\n\r\nimport { RoomsService } from \"./../../services/rooms-service\";\r\n\r\nimport { IRoom } from \"./../../interfaces/IRoom\";\r\nimport { IReservation } from \"./../../interfaces/IReservation\";\r\n\r\n@Component({\r\n\tselector: \"gw-room-list\",\r\n\ttemplateUrl: \"./room-list.html\",\r\n\tstyleUrls: [\"./room-list.component.css\"]\r\n})\r\nexport class RoomListComponent implements OnInit {\r\n\tpublic id: number;\r\n\tpublic room: IRoom;\r\n\tpublic reservations: IReservation[] = [];\r\n\tpublic message;\r\n\r\n\tconstructor(\r\n\t\tprivate route:ActivatedRoute,\r\n\t\tprivate roomService:RoomsService\r\n\t) { }\r\n\r\n\tngOnInit() {\r\n\t\tthis.route.parent.params\r\n\t\t\t.map(params => params[\"id\"])\r\n\t\t\t.subscribe(id => {\r\n\t\t\t\tthis.id = id;\r\n\t\t\t\tthis.roomService.getRoomById(id).subscribe(room => {\r\n\t\t\t\t\tthis.room = room;\r\n\t\t\t\t\tthis.reservations = this.getReservationsByDay();\r\n\t\t\t\t\tthis.setMessage();\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tgetReservationsByDay(date = null) {\r\n\t\tif (!this.room.reservations) return [];\r\n\t\t// const reservations = this.room.reservations[this.roomService.getRoomDateKey(date)] || [];\r\n\r\n\t\tvar reservations = this.room.reservations;\r\n\t\t\t\r\n\t\tvar reservationArr = [];\r\n\t\tvar iterable = 0;\r\n\t\tfor (let reservationKey in reservations) {\r\n\t\t\treservationArr[iterable] = reservations[reservationKey];\r\n\t\t\titerable ++;\r\n\t\t}\r\n\t\treturn reservationArr;\r\n\t};\r\n\r\n\tsetMessage() {\r\n\t\tif (this.reservations.length === 1) {\r\n\t\t\tthis.message = \"There is 1 reservation.\"\r\n\t\t} else {\r\n\t\t\tthis.message = `There are ${this.reservations.length} reservations.`\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/rooms/room-list/room-list.component.ts","import { Component, OnInit, trigger, state, transition, style, animate } from \"@angular/core\";\r\nimport { ActivatedRoute, CanDeactivate } from \"@angular/router\";\r\n\r\nimport { ApplicationSettings } from \"./../services/application-settings.service\";\r\nimport { IDirtyCanDeactivate } from \"./../services/dirty-form-guard.service\";\r\nimport { RoomsService } from \"./../services/rooms-service\";\r\n\r\nimport { IRoom } from \"./../interfaces/IRoom\";\r\n\r\nimport \"rxjs/add/operator/map\";\r\nimport \"rxjs/add/operator/do\";\r\n\r\n@Component({\r\n\tselector: \"gw-rooms\",\r\n\ttemplateUrl: \"./rooms.html\",\r\n\t// styleUrls: [\"./rooms.component.css\"]\r\n\tanimations: [\r\n\t\ttrigger(\"onLoad\", [\r\n\t\t\tstate(\"init\",\r\n\t\t\t\tstyle({ opacity: 0, transform: \"translate(0,-20px)\" })\r\n\t\t\t),\r\n\t\t\tstate(\"loaded\",\r\n\t\t\t\tstyle({ opacity: 1, transform: \"none\" })\r\n\t\t\t),\r\n\t\t\ttransition(\"init => loaded\", animate(\"1s cubic-bezier(0, 1, 0.5, 1)\"))\r\n\t\t]),\r\n\t\ttrigger(\"rightAfterOnLoad\", [\r\n\t\t\tstate(\"init\",\r\n\t\t\t\tstyle({ opacity: 0, transform: \"translate(-30px,0)\" })\r\n\t\t\t),\r\n\t\t\tstate(\"loaded\",\r\n\t\t\t\tstyle({ opacity: 1, transform: \"none\" })\r\n\t\t\t),\r\n\t\t\ttransition(\"init => loaded\", animate(\"500ms 300ms cubic-bezier(0, 1, 0.5, 1)\"))\r\n\t\t])\r\n\t]\r\n})\r\nexport class RoomsComponent implements OnInit {\r\n\tpublic id: number;\r\n\tpublic room: IRoom;\r\n\tpublic isLoading: boolean;\r\n\tpublic pngPath: string;\r\n\tpublic state: string = \"init\";\r\n\r\n\t// ActivatedRoute is provided by RouterModule\r\n\tconstructor(\r\n\t\tprivate route: ActivatedRoute,\r\n\t\tprivate roomsService: RoomsService,\r\n\t\tprivate applicationSettings: ApplicationSettings\r\n\t\t ) { }\r\n\r\n\tngOnInit() {\r\n\t\tthis.defaultRoom();\r\n\r\n\t\tthis.route.params\r\n\t\t\t.map(params => {\r\n\t\t\t\treturn params[\"id\"];\r\n\t\t\t})\r\n\t\t\t.do(() =>\r\n\t\t\t\tthis.state = \"init\"\r\n\t\t\t)\r\n\t\t\t.subscribe(id => {\r\n\t\t\t\tthis.id = id;\r\n\r\n\t\t\t\tthis.roomsService.getRoomById(id)\r\n\t\t\t\t\t.subscribe(room => {\r\n\t\t\t\t\t\tthis.room = room;\r\n\t\t\t\t\t\tthis.pngPath = `../../assets/images/${room.id}.png`;\r\n\t\t\t\t\t\tthis.state = \"loaded\";\r\n\t\t\t\t\t\t// we need to set room picture (which comes from DB as a file name) to our relative path\r\n\t\t\t\t\t\tthis.room.picture = this.applicationSettings.getImagePath(this.room.picture);\r\n\t\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\tcanDeactivate():boolean {\r\n\t\treturn window.confirm(\"Are you ready to leave this room?\");\r\n\t}\r\n\r\n\tresetDB($event:MouseEvent) {\r\n\t\tif (!$event.ctrlKey) return alert(\"Hold CTRL to activate this\");\r\n\r\n\t\tif (!confirm(\"Think a moment:  This will reset the class form data.  Are you SURE?\")) return;\r\n\r\n\t\tthis.isLoading = true;\r\n\r\n\t\tthis.roomsService.resetRoomsToDB();\r\n\t\tthis.isLoading = false;\r\n\r\n\t\t// this.roomsService.resetRoomsToDB().subscribe(() => {\r\n\t\t// \tthis.isLoading = false;\r\n\t\t// });\r\n\t}\r\n\r\n\tprivate defaultRoom() {\r\n\t\tthis.room = {\r\n\t\t\tid: null,\r\n\t\t\tname: null,\r\n\t\t\tpicture: \"\"\r\n\t\t};\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/rooms/rooms.component.ts","import { RouterModule, Routes } from \"@angular/router\";\r\nimport { NgModule } from \"@angular/core\";\r\n\r\nimport { RoomsComponent } from \"./rooms.component\";\r\nimport { RoomFormComponent } from \"./room-form/room-form.component\";\r\nimport { RoomListComponent } from \"./room-list/room-list.component\";\r\n\r\nimport { LoginGuard } from \"./../services/login-guard.service\";\r\nimport { DirtyFormGuard } from \"./../services/dirty-form-guard.service\";\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: \"\",\r\n\t\tcomponent: RoomsComponent,\r\n\t\tcanActivateChild: [LoginGuard],\r\n\r\n\t\tchildren: [\r\n\t\t\t{\r\n\t\t\t\tpath: \"form\",\r\n\t\t\t\tcomponent: RoomFormComponent,\r\n\t\t\t\tcanDeactivate: [ DirtyFormGuard ]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"list\",\r\n\t\t\t\tcomponent: RoomListComponent\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: \"\",\r\n\t\t\t\tpathMatch: \"full\",\r\n\t\t\t\tredirectTo: \"list\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\timports: [RouterModule.forChild(routes)],\r\n\texports: [RouterModule]\r\n})\r\nexport class RoomsRoutingModule { }\r\n\r\nexport const routedComponents = [\r\n\tRoomsComponent,\r\n\tRoomFormComponent,\r\n\tRoomListComponent\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/rooms/rooms.routing.module.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".button {\\r\\n    margin-top: -10px;\\r\\n}\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/rooms/room-list/room-list.component.css\n// module id = 257\n// module chunks = 0","module.exports = \"<h1 class=\\\"ui inverted header\\\">{{ room?.name }}</h1>\\r\\n\\r\\n<form class=\\\"ui roomForm form\\\" (ngSubmit)=\\\"onRoomSubmission(myForm)\\\" [ngClass]=\\\"{ 'error' : !myForm.valid && myForm.submitted }\\\" #myForm=\\\"ngForm\\\" novalidate>\\r\\n\\t<div class=\\\"ui large inverted form\\\">\\r\\n\\t\\t<div class=\\\"two fields\\\">\\r\\n\\t\\t\\t<div class=\\\"field\\\">\\r\\n\\t\\t\\t\\t<label>Reserve For:</label>\\r\\n\\t\\t\\t\\t<select name=\\\"reserveReason\\\" [ngModel]=\\\"form.reserveReason\\\" required>\\r\\n\\t\\t\\t\\t\\t<option *ngFor=\\\"let reason of reasons\\\" [value]=\\\"reason\\\">{{ reason }}</option>\\r\\n\\t\\t\\t\\t</select>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"two fields\\\">\\r\\n\\t\\t\\t<div class=\\\"field\\\">\\r\\n\\t\\t\\t\\t<label>Start Time:</label>\\r\\n\\t\\t\\t\\t<input name=\\\"startTime\\\" type=\\\"time\\\" [ngModel]=\\\"form.startTime\\\" required>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"field\\\">\\r\\n\\t\\t\\t\\t<label>End Time:</label>\\r\\n\\t\\t\\t\\t<input name=\\\"endTime\\\" type=\\\"time\\\" [ngModel]=\\\"form.endTime\\\" required>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"two fields\\\">\\r\\n\\t\\t\\t<div class=\\\"field\\\">\\r\\n\\t\\t\\t\\t<label>Person to Contact:</label>\\r\\n\\t\\t\\t\\t<input name=\\\"email1\\\" type=\\\"email\\\" [ngModel]=\\\"form.email1\\\" required email>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"field\\\">\\r\\n\\t\\t\\t\\t<label>Person to Contact (confirm):</label>\\r\\n\\t\\t\\t\\t<input name=\\\"email2\\\" type=\\\"email\\\" [ngModel]=\\\"form.email2\\\" [pattern]=\\\"myForm.controls?.email1?.value\\\" #email2=\\\"ngModel\\\" required email>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"inline field\\\">\\r\\n\\t\\t\\t<label>I agree to be clean and good to the room:</label>\\r\\n\\t\\t\\t<input name=\\\"isAgreed\\\" type=\\\"checkbox\\\" [ngModel]=\\\"form.isAgreed\\\" required>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"ui error message\\\">\\r\\n\\t\\t\\t<div *ngFor=\\\"let error of getErrors()\\\">\\r\\n\\t\\t\\t\\t{{ error | json }}\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"fields\\\">\\r\\n\\t\\t\\t<div class=\\\"field\\\">\\r\\n\\t\\t\\t\\t<button type=\\\"submit\\\" class=\\\"ui big positive submit button\\\" [disabled]=\\\"!myForm.valid\\\">Submit</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</form>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/rooms/room-form/room-form.html\n// module id = 258\n// module chunks = 0","module.exports = \"<div>\\r\\n\\t<h1 class=\\\"ui inverted header\\\">{{ room?.name }}</h1>\\r\\n\\t<div class=\\\"ui segment\\\">\\r\\n\\t\\t<button routerLink=\\\"../form\\\" class=\\\"ui large right floated green button\\\">Make Reservation</button>\\r\\n\\t\\t<p>{{ message }}</p>\\r\\n\\t\\t<div *ngFor=\\\"let reservation of reservations\\\">\\r\\n\\t\\t\\t<hr/>\\r\\n\\t\\t\\t<div>{{reservation.date | date: 'MM/dd/yyyy'}}</div>\\r\\n\\t\\t\\t<div>Start: {{ reservation.startTime | readableTime }}</div>\\r\\n\\t\\t\\t<div>End: {{ reservation.endTime | readableTime }}</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/rooms/room-list/room-list.html\n// module id = 259\n// module chunks = 0","module.exports = \"<div class=\\\"ui room container\\\" [@onLoad]=\\\"state\\\">\\r\\n\\t<div class=\\\"ui inverted active dimmer\\\" *ngIf=\\\"isLoading\\\">\\r\\n\\t\\t<div class=\\\"ui big loader\\\"></div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"ui padded grid\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<div class=\\\"six wide computer only column\\\">\\r\\n\\t\\t\\t\\t<img class=\\\"ui medium centered image\\\" [src]=\\\"pngPath\\\">\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"sixteen wide tablet ten wide computer column toggleButtons\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"ui buttons\\\">\\r\\n\\t\\t\\t\\t\\t<button class=\\\"ui big button\\\"\\r\\n\\t\\t\\t\\t\\t        routerLink=\\\"./list\\\"\\r\\n\\t\\t\\t\\t\\t        routerLinkActive=\\\"green\\\">List</button>\\r\\n\\t\\t\\t\\t\\t<button class=\\\"ui big button\\\"\\r\\n\\t\\t\\t\\t\\t        (click)=\\\"resetDB($event)\\\">Reset Rooms</button>\\r\\n\\t\\t\\t\\t\\t<button class=\\\"ui big button\\\"\\r\\n\\t\\t\\t\\t\\t        routerLink=\\\"./form\\\"\\r\\n\\t\\t\\t\\t\\t        routerLinkActive=\\\"green\\\">Form</button>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<hr />\\r\\n\\t\\t\\t\\t<div>\\t\\r\\n\\t\\t\\t\\t\\t<router-outlet></router-outlet>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/rooms/rooms.html\n// module id = 260\n// module chunks = 0"],"sourceRoot":""}